<header class="text-center py-4">
  <h1 class="text-3xl font-bold">Register</h1>
</header>
<div class="flex justify-center">
  <div class="max-w-md w-full py-4">
    <div class="bg-white shadow-2xl rounded px-8 pt-6 pb-8 mb-4">
      <img
        id="profile-img"
        src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"
        class="mx-auto w-24"
      />
      <ng-container *ngIf="!isSuccessful">
        <form
          name="form"
          (ngSubmit)="f.form.valid && onSubmit()"
          #f="ngForm"
          novalidate
        >
          <div class="mb-4">
            <label
              for="username"
              class="block text-gray-700 text-sm font-bold mb-2"
              >Username</label
            >
            <input
              type="text"
              class="form-input border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              name="username"
              [(ngModel)]="form.name"
              required
              minlength="3"
              maxlength="20"
              #username="ngModel"
              [class.border-red-500]="f.submitted && username.errors"
            />
            <div
              *ngIf="username.errors && f.submitted"
              class="text-red-500 text-xs italic"
            >
              <div *ngIf="username.errors['required']">
                Username is required
              </div>
              <div *ngIf="username.errors['minlength']">
                Username must be at least 3 characters
              </div>
              <div *ngIf="username.errors['maxlength']">
                Username must be at most 20 characters
              </div>
            </div>
          </div>
          <div class="mb-4">
            <label
              for="email"
              class="block text-gray-700 text-sm font-bold mb-2"
              >Email</label
            >
            <input
              type="email"
              class="form-input border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              name="email"
              [(ngModel)]="form.email"
              required
              email
              #email="ngModel"
              [class.border-red-500]="f.submitted && email.errors"
            />
            <div
              *ngIf="email.errors && f.submitted"
              class="text-red-500 text-xs italic"
            >
              <div *ngIf="email.errors['required']">Email is required</div>
              <div *ngIf="email.errors['email']">
                Email must be a valid email address
              </div>
            </div>
          </div>
          <div class="mb-4">
            <label
              for="password"
              class="block text-gray-700 text-sm font-bold mb-2"
              >Password</label
            >
            <input
              type="password"
              class="form-input border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              name="password"
              [(ngModel)]="form.password"
              required
              minlength="6"
              #password="ngModel"
              [class.border-red-500]="f.submitted && password.errors"
            />
            <div
              *ngIf="password.errors && f.submitted"
              class="text-red-500 text-xs italic"
            >
              <div *ngIf="password.errors['required']">
                Password is required
              </div>
              <div *ngIf="password.errors['minlength']">
                Password must be at least 6 characters
              </div>
            </div>
          </div>
          <div class="mb-4">
            <button
              type="submit"
              class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full"
            >
              Register
            </button>
          </div>
          <div
            *ngIf="f.submitted && isSignUpFailed"
            class="text-red-500 text-xs italic"
          >
            Registration failed! {{ errorMessage }}
          </div>
        </form>
      </ng-container>
      <ng-container *ngIf="isSuccessful">
        <div class="text-green-500 text-xs italic">
          Your registration is successful!
        </div>
      </ng-container>
    </div>
  </div>
</div>
